(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52da12c4"],{1276:function(t,e,r){"use strict";var a=r("d784"),n=r("44e7"),i=r("825a"),o=r("1d80"),s=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),d=r("9263"),f=r("d039"),p=[].push,m=Math.min,b=4294967295,h=!f((function(){return!RegExp(b,"y")}));a("split",2,(function(t,e,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var a=String(o(this)),i=void 0===r?b:r>>>0;if(0===i)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,i);var s,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,h=new RegExp(t.source,f+"g");while(s=d.call(h,a)){if(c=h.lastIndex,c>m&&(u.push(a.slice(m,s.index)),s.length>1&&s.index<a.length&&p.apply(u,s.slice(1)),l=s[0].length,m=c,u.length>=i))break;h.lastIndex===s.index&&h.lastIndex++}return m===a.length?!l&&h.test("")||u.push(""):u.push(a.slice(m)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var n=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n,r):a.call(String(n),e,r)},function(t,n){var o=r(a,t,this,n,a!==e);if(o.done)return o.value;var d=i(t),f=String(this),p=s(d,RegExp),g=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),v=new p(h?d:"^(?:"+d.source+")",y),j=void 0===n?b:n>>>0;if(0===j)return[];if(0===f.length)return null===u(v,f)?[f]:[];var k=0,N=0,O=[];while(N<f.length){v.lastIndex=h?N:0;var x,w=u(v,h?f:f.slice(N));if(null===w||(x=m(l(v.lastIndex+(h?0:N)),f.length))===k)N=c(f,N,g);else{if(O.push(f.slice(k,N)),O.length===j)return O;for(var C=1;C<=w.length-1;C++)if(O.push(w[C]),O.length===j)return O;N=k=x}}return O.push(f.slice(k)),O}]}),!h)},"25f0":function(t,e,r){"use strict";var a=r("6eeb"),n=r("825a"),i=r("d039"),o=r("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var t=n(this),e=String(t.source),r=t.flags,a=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?o.call(t):r);return"/"+e+"/"+a}),{unsafe:!0})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),n=r("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5bbe":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("div",{staticClass:"col text-left"},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"left","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Filter by name"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),r("div",{staticClass:"col text-right"},[r("add-package",{attrs:{"project-name":t.projectName}})],1)]),r("b-row",[r("b-card",[r("b-table",{attrs:{hover:!0,bordered:!0,small:t.small,fixed:t.fixed,responsive:"sm",items:t.tableData,fields:t.fields,filter:t.filter},scopedSlots:t._u([{key:"thead-top",fn:function(e){return[r("b-tr",[r("b-th"),r("b-th",{attrs:{colspan:"2"}},[t._v("Build")]),r("b-th",{attrs:{colspan:"2"}},[t._v("Deployment")]),r("b-th"),r("b-th"),r("b-th")],1)]}},{key:"cell(name)",fn:function(e){return[r("span",{staticClass:"text-info",on:{click:function(r){return t.goLink(e.item)}}},[t._v(t._s(e.item.name))])]}},{key:"cell(bHistory)",fn:function(e){return[r("span",{class:{"text-danger":t.onHighlight(e.item.bHistory)}},[t._v(" "+t._s(e.item.bHistory)+" ")])]}},{key:"cell(dHistory)",fn:function(e){return[r("span",{class:{"text-danger":t.onHighlight(e.item.dHistory)}},[t._v(" "+t._s(e.item.dHistory)+" ")])]}},{key:"cell(status)",fn:function(e){return[t._v(" "+t._s(t.getStatus(e.item))+" ")]}},{key:"cell(action)",fn:function(e){return["구동중"===t.getStatus(e.item)?r("div",[r("b-button",{on:{click:function(r){return t.stopPod(e.item)}}},[t._v("정지")])],1):"구동가능"===t.getStatus(e.item)?r("div",[r("b-button",{on:{click:function(r){return t.startPod(e.item)}}},[t._v("시작")]),r("b-button",{on:{click:function(r){return t.deletePackage(e.item)}}},[t._v("삭제")])],1):"구동불가능"===t.getStatus(e.item)?r("div",[r("b-button",{on:{click:function(r){return t.deletePackage(e.item)}}},[t._v("삭제")])],1):t._e()]}}])})],1)],1),r("one-button-alert",{ref:"packageError",attrs:{name:"packageError"}})],1)},n=[],i=(r("a4d3"),r("4de4"),r("4160"),r("caad"),r("fb6a"),r("b0c0"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("2532"),r("159b"),r("2fa7")),o=r("2f62"),s=r("1564"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-button",{on:{click:t.showModal}},[t._v("+ Add Package")]),r("b-modal",{attrs:{size:"xl",variant:"dark","header-bg-variant":"dark","header-text-variant":"light","content-class":"border-dark"},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[r("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.cancel()}}},[t._v("x")])]}},{key:"modal-footer",fn:function(){return[r("b-button",{attrs:{variant:"dark"},on:{click:function(e){return t.cancel()}}},[t._v(" Cancel ")]),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.checkForm},on:{click:function(e){return t.doCreate()}}},[t._v(" Create ")])]},proxy:!0}]),model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[r("b-tabs",{model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[r("b-tab",{attrs:{title:"템플릿으로 패키지 생성",active:""}},[null===t.template?r("div",t._l(t.rosTemplate,(function(e,a){return r("div",{key:a},[r("b-row",[r("b-col",[r("b-card",[r("span",{staticClass:"text-info",on:{click:function(r){return t.applyTemplate(e.metadata.name)}}},[t._v(t._s(e.metadata.name))])])],1)],1)],1)})),0):r("div",t._l(t.paramForm,(function(e,a){return r("div",{key:a},[r("b-form-group",{staticClass:"mb-0",staticStyle:{"font-weight":"bold"},attrs:{label:e.displayName,description:e.description}},[r("b-form-input",{attrs:{placeholder:e.value},model:{value:e.text,callback:function(r){t.$set(e,"text",r)},expression:"param.text"}})],1),r("br")],1)})),0)]),r("b-tab",{attrs:{title:"빌드된 이미지 올리기"}},[t._v(" bbb ")])],1)],1),r("one-button-alert",{ref:"errorModal",attrs:{name:"errorModal"}})],1)},l=[];r("e01a"),r("a15b"),r("0d03"),r("d3b7"),r("ac1f"),r("25f0"),r("1276");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={name:"addPackage",components:{OneButtonAlert:s["a"]},props:{projectName:{type:String,default:function(){return""}}},data:function(){return{isShowModal:!1,tabIndex:0,template:null,paramForm:[]}},computed:d({},Object(o["d"])("template",["templateList"]),{},Object(o["d"])("storage",["storageList"]),{rosTemplate:function(){return this.templateList.items.filter((function(t){return!(!t.labels||!t.labels.template)&&t.labels.template.includes("ros2")}))},checkForm:function(){if(0===this.paramForm.length)return!1;for(var t=0;t<this.paramForm.length;t++)if(this.paramForm[t].required&&!this.paramForm[t].text)return!1;return!0}}),methods:d({},Object(o["b"])("template",["getTemplateList","getTemplate"]),{},Object(o["b"])("build",["createBuildConfig"]),{},Object(o["b"])("deploy",["createDeployConfig"]),{},Object(o["b"])("imagestream",["createImageStream"]),{showModal:function(){this.getTemplateList(),this.isShowModal=!0},applyTemplate:function(t){var e=this;this.getTemplate(t).then((function(t){e.template=t,t.parameters.forEach((function(t){var r=t.value;switch(t.name){case"MOUNT_PATH":r="/data";break;case"VOLUME_NAME":r="volume-"+Math.random().toString(36).substring(5);break;case"STORAGE_NAME":var a=e.storageList.get(e.projectName);a&&(r=a.items[0].metadata.name);break;default:break}e.paramForm.push({name:t.name,displayName:!0===t.required?"* "+t.displayName:t.displayName,description:t.description,value:r,required:t.required,text:r})}))}))},cancel:function(){this.isShowModal=!1,this.resetTab()},doCreate:function(){this.applyObjects(),this.isShowModal=!1,this.resetTab()},resetTab:function(){this.template=null,this.paramForm=[]},replaceAll:function(t,e,r){return t.split(e).join(r)},errorHandling:function(t,e){switch(t){case"ImageStream":case"BuildConfig":case"DeploymentConfig":default:break}},applyObjects:function(){var t=this,e=JSON.stringify(this.template.objects);this.paramForm.forEach((function(r){r.text&&(e=t.replaceAll(e,"${"+r.name+"}",r.text))})),e=JSON.parse(e),e.forEach((function(e){switch(e.kind){case"ImageStream":t.createImageStream({projectName:t.projectName,form:e}).catch((function(r){t.errorHandling(e.kind,e),t.$refs.errorModal.show({title:"에러 메세지",text:r})}));break;case"BuildConfig":t.createBuildConfig({projectName:t.projectName,form:e}).then((function(r){t.errorHandling(e.kind,e),t.$refs.errorModal.show({title:"메세지",text:"패키지 생성 성공"})})).catch((function(e){t.$refs.errorModal.show({title:"에러 메세지",text:e})}));break;case"DeploymentConfig":t.createDeployConfig({projectName:t.projectName,form:e}).catch((function(r){t.errorHandling(e.kind,e),t.$refs.errorModal.show({title:"에러 메세지",text:r})}));break;default:break}}))}}),watch:{tabIndex:function(t){this.tabIndex!==t&&this.resetTab()}}},p=f,m=r("2877"),b=Object(m["a"])(p,c,l,!1,null,"78946bd8",null),h=b.exports,g=r("a3ea"),y=r("0d7a"),v=void 0;function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(r,!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var N={name:"packages",components:{OneButtonAlert:s["a"],AddPackage:h},inheritAttrs:!1,props:{caption:{type:String,default:"Table"},hover:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},perPage:{type:Number,default:100},dark:{type:Boolean,default:!1},projectName:{type:String,default:function(){return v.currentProject}}},data:function(){return{fields:[{key:"name",label:"Name"},{key:"bNumber",label:"Last Build"},{key:"bHistory",label:"Status(History)"},{key:"dVersion",label:"Last Version"},{key:"dHistory",label:"Status(History)"},{key:"dAge",label:"Age"},{key:"status",label:"Status"},{key:"action",label:"Action"}],filter:null}},computed:k({},Object(o["d"])("project",["currentProject"]),{},Object(o["d"])("build",["buildConfigs","buildList","getBuildCount"]),{},Object(o["d"])("deploy",["deployConfigs"]),{},Object(o["d"])("pod",["podList","getPodCount"]),{},Object(o["d"])("controller",["controllerList"]),{tableData:function(){var t=this,e=[];return this.buildConfigs.items.forEach((function(r){var a={name:"-",bNumber:"-",bHistory:"-",dVersion:"-",dHistory:"-",dAge:"-",status:"-",action:"-"};a.name=r.metadata.name,a.bNumber="#"+r.status.lastVersion;var n=Object(g["a"])(t.buildList,r.metadata.name,r.status.lastVersion);n&&(a.bHistory=n.status.phase);var i=Object(g["c"])(t.deployConfigs,r.metadata.name);if(i){a.dVersion="#"+i.status.latestVersion;var o=Object(g["d"])(t.podList,r.metadata.name,i.status.latestVersion);if(o)a.dHistory=o.status.phase,a.dAge=Object(y["a"])(o.status.startTime);else{var s=Object(g["b"])(t.controllerList,r.metadata.name,i.status.latestVersion);s&&(a.dHistory=s.metadata.annotations["openshift.io/deployment.phase"],a.dAge="-")}}e.push(a)})),e}}),mounted:function(){this.requestLists()},methods:k({},Object(o["b"])("project",["setCurrentPackage"]),{},Object(o["b"])("build",["getBuildConfigList","getBuildList","deleteBuildConfig"]),{},Object(o["b"])("deploy",["getDeployConfigList","deleteDeployConfig","getDeployConfig","editDeployConfig"]),{},Object(o["b"])("pod",["getPodList","deletePod"]),{},Object(o["b"])("controller",["getControllerList","deleteReplicationController"]),{requestLists:function(){var t=this;this.getBuildConfigList(this.projectName).then((function(e){t.getBuildList(t.projectName)})),this.getDeployConfigList(this.projectName).then((function(e){t.getPodList(t.projectName),t.getControllerList(t.projectName)}))},goLink:function(t){this.setCurrentPackage(t.name),this.$router.push({name:"detail",params:{projectName:this.projectName,packageName:t.name,lastBuild:t.bNumber,lastDeploy:t.dVersion}})},startPod:function(t){var e=this;this.getDeployConfig({projectName:this.projectName,buildName:t.name}).then((function(r){e.editDeployConfig({projectName:e.projectName,buildName:t.name,paused:!1,form:r}).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.startPodTitle"),text:t})}))})).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.startPodTitle"),text:t})}))},stopPod:function(t){var e=this,r=Object(g["d"])(this.podList,t.name,t.dVersion.slice(1));r?this.getDeployConfig({projectName:this.projectName,buildName:t.name}).then((function(a){e.editDeployConfig({projectName:e.projectName,buildName:t.name,paused:!0,form:a}).then((function(t){e.deleteReplicationController({projectName:e.projectName,deployName:r.metadata.labels.deployment}),e.deletePod({projectName:e.projectName,podName:r.metadata.name})})).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.stopPodTitle"),text:t})}))})).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.stopPodTitle"),text:t})})):this.$refs.packageError.show({title:this.$i18n.t("popup.stopPodTitle"),text:this.$i18n.t("popup.startPodUnknownError")})},deletePackage:function(t){var e=this;this.deleteBuildConfig({projectName:this.projectName,configName:t.name}).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.delPackageTitle"),text:t})})),this.deleteDeployConfig({projectName:this.projectName,configName:t.name}).catch((function(t){e.$refs.packageError.show({title:e.$i18n.t("popup.delPackageTitle"),text:t})}))},imageReady:function(t){return!0},getStatus:function(t){switch(t.dHistory){case"Running":case"Pending":return"구동중";case"Succeeded":case"Failed":case"-":return"Complete"===t.bHistory||this.imageReady(t.name)?"구동가능":"구동불가능";default:return"구동불가능"}},onHighlight:function(t){return!(!t||!t.includes("Fail"))}}),watch:{projectName:{immediate:!0,handler:function(){this.requestLists()}},getDeployConfigList:function(){this.getPodList(this.projectName),this.getControllerList(this.projectName)}}},O=N,x=Object(m["a"])(O,a,n,!1,null,"2c100a46",null);e["default"]=x.exports},a15b:function(t,e,r){"use strict";var a=r("23e7"),n=r("44ad"),i=r("fc6a"),o=r("b301"),s=[].join,c=n!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:c||l},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a3ea:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return s}));r("c740"),r("caad"),r("b0c0"),r("2532");function a(t,e,r){var a=t.items.findIndex((function(t){return t.metadata.name===e+"-"+r}));if(-1!==a)return t.items[a]}function n(t,e){var r=t.items.findIndex((function(t){return t.metadata.name===e}));if(-1!==r)return t.items[r]}function i(t,e,r){var a=t.items.findIndex((function(t){return t.metadata.name===e+"-"+r}));if(-1!==a)return t.items[a]}function o(t,e,r){var a=t.items.findIndex((function(t){return t.metadata.name.includes(e)&&t.metadata.annotations["openshift.io/deployment-config.latest-version"]==r}));if(-1!==a)return t.items[a]}function s(t,e){var r=t.items.findIndex((function(t){return t.metadata.name.includes(e)&&t.metadata.name.includes("-build")}));if(-1!==r)return t.items[r]}},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,b=r("9bf2").f,h=r("58a8").trim,g="Number",y=n[g],v=y.prototype,j=c(f(v))==g,k=function(t){var e,r,a,n,i,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(i=l.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>n)return NaN;return parseInt(i,a)}return+l};if(i(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var N,O=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof O&&(j?d((function(){v.valueOf.call(r)})):c(r)!=g)?l(new y(k(e)),r,O):k(e)},x=a?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)s(y,N=x[w])&&!s(O,N)&&b(O,N,m(y,N));O.prototype=v,v.constructor=O,o(n,g,O)}},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),i=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("1dde"),d=r("b622"),f=d("species"),p=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!u("slice")},{slice:function(t,e){var r,a,u,d=c(this),b=s(d.length),h=o(t,b),g=o(void 0===e?b:e,b);if(i(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(d,h,g);for(a=new(void 0===r?Array:r)(m(g-h,0)),u=0;h<g;h++,u++)h in d&&l(a,u,d[h]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-52da12c4.40be66a6.js.map