(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-056461ed"],{"0dcc":function(t,e,a){},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"539c":function(t,e,a){"use strict";var n=a("a008"),o=a.n(n);o.a},5419:function(t,e,a){"use strict";var n=a("0dcc"),o=a.n(n);o.a},7277:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"d-flex justify-content-start"},[a("b-col",{attrs:{cols:"4"}},[a("b-form-group",[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:t.$t("dashboard.dashboardPlaceholder")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary",disabled:!t.search},on:{click:function(e){t.search=""}}},[t._v(" "+t._s(t.$t("common.clear"))+" ")])],1)],1)],1)],1)],1),a("b-list-group",t._l(t.filteredList,(function(e,n){return a("b-list-group-item",{key:n,staticClass:"flex-column pt-4 pb-4",attrs:{href:"#"},model:{value:t.updated,callback:function(e){t.updated=e},expression:"updated"}},[a("div",{staticClass:"d-flex justify-content-start align-items-center",on:{click:function(a){return a.stopPropagation(),t.selProject(e.metadata.name)}}},[a("div",{staticClass:"title_area p-2 pr-5"},[a("h3",{staticClass:"mb-1 text-primary"},[t._v(t._s(e.metadata.name))]),a("small",{staticClass:"m-0"},[t._v(t._s(t.getCreationInfo(e)))])]),t._l(t.getStorageByName(e.metadata.name),(function(e){return a("div",{key:e.metadata.name,staticClass:"d-flex"},[a("div",{staticClass:"storage d-flex align-items-center pr-2"},[a("div",{staticClass:"storage_icon p-3"},[a("h3",[a("i",{staticClass:"fa fa-database"})])]),a("div",{staticClass:"storage_info mb-2"},[a("small",[a("b",[t._v(t._s(e.metadata.name))]),a("br"),t._v(" "+t._s(e.spec.resources.requests.storage)+" "),e.status.phase?a("span",{staticClass:"ml-1 mr-1"},[t._v(" | ")]):t._e(),t._v(" "+t._s(e.status.phase)+" ")])])])])})),a("div",{staticClass:"ml-auto"},[a("b-button",{staticClass:"btn pull-right",attrs:{variant:"link"},on:{click:function(a){return a.stopPropagation(),t.delProject(e.metadata.name)}}},[a("i",{staticClass:"fa fa-trash"}),t._v(" "+t._s(t.$t("common.delete"))+" ")])],1)],2)])})),1),a("one-button-alert",{ref:"OneButtonAlert",attrs:{name:"OneButtonAlert"}}),a("two-button-alert",{ref:"TwoButtonAlert",attrs:{name:"TwoButtonAlert"},on:{submit:t.proDeleteSubmit}})],1)},o=[],r=(a("a4d3"),a("4de4"),a("4160"),a("caad"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("ac1f"),a("2532"),a("841c"),a("159b"),a("2fa7")),s=a("2f62"),i=a("1564"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{variant:"dark","header-bg-variant":"dark","header-text-variant":"light","content-class":"border-dark"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" "+t._s(t.modalTitle)+" ")]},proxy:!0},{key:"default",fn:function(){return[a("div",{staticClass:"modal_body"},[a("p",{domProps:{innerHTML:t._s(t.modalConfirm)}}),a("p",{staticClass:"red"},[t._v(" * "+t._s(t.modalWarnning)+" ")])])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:t.modalSubmit}},[t._v(" "+t._s(t.$t("common.ok"))+" ")]),a("b-button",{attrs:{variant:"dark"},on:{click:function(e){return t.hide()}}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")])]},proxy:!0}]),model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}})],1)},u=[],l={name:"twoButtonAlert",props:{},data:function(){return{showModal:!1,data:{modalType:"",itemType:"",getItems:[]}}},computed:{getName:function(){var t="none";switch(this.data.itemType){case"project":t=this.data.getItems;break;case"version":t=this.data.getItems[0].versionName;break;case"utterance":t=this.data.getItems[0].productInfo;break;default:break}return t},modalTypeKo:function(){return this.$i18n.t("common."+this.data.modalType)},itemTypeKo:function(){return this.$i18n.t("popup."+this.data.itemType)},remainCount:function(){return this.data.getItems.length},modalActive:function(){var t="none";switch(this.data.modalType){case"delete":t=this.$i18n.t("common.recoveryIs");break;case"complete":t=this.$i18n.t("common.modify");break;case"close":t=this.$i18n.t("common.modify");break;default:break}return t},modalConfirm:function(){return this.$i18n.t("popup.modalConfirm",{name:this.getName,remainCount:this.remainCount,modalType:this.modalTypeKo})},modalTitle:function(){return this.$i18n.t("popup.modalTitle",{itemType:this.itemTypeKo,modalType:this.modalTypeKo})},modalWarnning:function(){return this.$i18n.t("popup.modalWarnning",{modalType:this.modalTypeKo,active:this.modalActive})}},methods:{modalSubmit:function(){this.$emit("submit",this.data)},show:function(t){this.data={modalType:t.modalType,itemType:t.itemType,getItems:t.getItems},this.showModal=!0},hide:function(){this.showModal=!1}}},d=l,m=(a("539c"),a("2877")),p=Object(m["a"])(d,c,u,!1,null,"59a719ee",null),f=p.exports,h=a("0d7a");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"Dashboard",components:{OneButtonAlert:i["a"],twoButtonAlert:f},props:{},data:function(){return{updated:!1,search:""}},computed:v({},Object(s["d"])("project",["projectList"]),{},Object(s["c"])("project",["getProjectCount"]),{},Object(s["d"])("storage",["storageList"]),{projectCountUpdated:function(){return this.getProjectCount},filteredList:function(){var t=this;return this.projectList.items.filter((function(e){return e.metadata.name.toLowerCase().includes(t.search.toLowerCase())}))}}),mounted:function(){this.requestStorage()},methods:v({},Object(s["b"])("project",["setCurrentProject","deleteProject"]),{},Object(s["b"])("storage",["getStorageList"]),{selProject:function(t){this.setCurrentProject(t),this.$router.push({name:"main",params:{projectName:t}})},delProject:function(t){this.$refs.TwoButtonAlert.show({modalType:"delete",itemType:"project",getItems:t})},proDeleteSubmit:function(t){var e=this;this.deleteProject(t.getItems).catch((function(t){e.$refs.OneButtonAlert.show({title:e.$i18n.t("popup.delProjectTitle"),text:t,confirm:!1})})),this.$refs.TwoButtonAlert.hide()},getStorageByName:function(t){var e=this.storageList.get(t);return void 0!==e?e.items:[]},getCreationInfo:function(t){return"created by "+t.metadata.annotations["openshift.io/requester"]+" "+Object(h["a"])(t.metadata.creationTimestamp)},requestStorage:function(){var t=this;this.projectList.items.forEach((function(e,a,n){t.getStorageList(e.metadata.name).then((function(e){t.updated=!t.updated}))}))}}),watch:{projectCountUpdated:function(){this.requestStorage()}}},y=g,j=(a("5419"),Object(m["a"])(y,n,o,!1,null,"72b63c4c",null));e["default"]=j.exports},"841c":function(t,e,a){"use strict";var n=a("d784"),o=a("825a"),r=a("1d80"),s=a("129f"),i=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var r=o(t),c=String(this),u=r.lastIndex;s(u,0)||(r.lastIndex=0);var l=i(r,c);return s(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]}))},a008:function(t,e,a){}}]);
//# sourceMappingURL=chunk-056461ed.90087e44.js.map